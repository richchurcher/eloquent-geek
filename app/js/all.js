function errSrc(){return{link:function(t,o,s){o.bind("error",function(){s.src!=s.errSrc&&s.$set("src",s.errSrc)}),s.$observe("ngSrc",function(t){!t&&s.errSrc&&s.$set("src",s.errSrc)})}}}function postForm(){return{link:function(t,o,s,r){t.create=function(){r.createPost()}},require:"^postDisplay",scope:!1,templateUrl:"/js/post/postForm.html"}}function postNav(){return{link:function(t,o,s,r){t.firstPost=function(){r.loadPost("first")},t.latestPost=function(){r.loadPost("latest")},t.previousPost=function(t){r.loadPost(t,"previous")},t.nextPost=function(t){r.loadPost(t,"next")},t.newPost=function(){r.newPost()}},require:"^postDisplay",scope:!1,templateUrl:"/js/post/postNav.html"}}function postDisplay(t,o){var s=function(){var s=this;s.loadPost=function(t,r){var e=new showdown.Converter,n={postId:t};return r&&(n.nav=r),o.get(n,function(t){t.body=e.makeHtml(t.body),s.post=t,s.style.css=t.style},function(){})},s.createPost=function(){return s.post.tags||(s.post.tags=""),o.save({title:s.post.title,body:s.post.body,style:s.post.style,image:s.post.image,tags:s.post.tags.split(" ")},function(o){var r=new showdown.Converter;o.body=r.makeHtml(o.body),t.trustAsHtml(o.body),s.style.css=o.style,s.post=o,s.showCreateForm=!1})},s.post||s.loadPost("latest"),s.newPost=function(){for(var t in s.post)s.post[t]=null;s.showCreateForm=!0,s.style.css=""}};return{bindToController:!0,controller:s,controllerAs:"vm",scope:{style:"="},templateUrl:"/js/post/postDisplay.html"}}function postFactory(t){return t("/posts/:postId/:nav")}angular.module("eg",["post"]).config(["$resourceProvider",function(t){t.defaults.stripTrailingSlashes=!1}]).controller("EGCtrl",["$scope",function(t){t.style={css:"wombat"}}]),angular.module("post",["ngResource"]),angular.module("post").directive("errSrc",[errSrc]),angular.module("post").directive("postForm",[postForm]),angular.module("post").directive("postNav",[postNav]),angular.module("post").directive("postDisplay",["$sce","postApiService",postDisplay]).filter("trusted",["$sce",function(t){return function(o){return t.trustAsHtml(o)}}]),angular.module("post").factory("postApiService",["$resource",postFactory]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QvZXJyc3JjLmRpcmVjdGl2ZS5qcyIsInBvc3QvZm9ybS5kaXJlY3RpdmUuanMiLCJwb3N0L25hdi5kaXJlY3RpdmUuanMiLCJwb3N0L3Bvc3QuZGlyZWN0aXZlLmpzIiwicG9zdC9hcGkuc2VydmljZS5qcyIsImFwcC5qcyIsInBvc3QvcG9zdC5tb2R1bGUuanMiXSwibmFtZXMiOlsiZXJyU3JjIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiYmluZCIsInNyYyIsIiRzZXQiLCIkb2JzZXJ2ZSIsInZhbHVlIiwicG9zdEZvcm0iLCJwb3N0Q3RybCIsImNyZWF0ZSIsImNyZWF0ZVBvc3QiLCJyZXF1aXJlIiwidGVtcGxhdGVVcmwiLCJwb3N0TmF2IiwiZmlyc3RQb3N0IiwibG9hZFBvc3QiLCJsYXRlc3RQb3N0IiwicHJldmlvdXNQb3N0IiwiY3VycmVudCIsIm5leHRQb3N0IiwibmV3UG9zdCIsInBvc3REaXNwbGF5IiwiJHNjZSIsInBvc3RBcGlTZXJ2aWNlIiwiY29udHJvbGxlciIsInZtIiwidGhpcyIsImlkIiwibmF2IiwiY29udmVydGVyIiwic2hvd2Rvd24iLCJDb252ZXJ0ZXIiLCJwYXJhbXMiLCJwb3N0SWQiLCJnZXQiLCJyZXNwb25zZSIsImJvZHkiLCJtYWtlSHRtbCIsInBvc3QiLCJzdHlsZSIsImNzcyIsInRhZ3MiLCJzYXZlIiwidGl0bGUiLCJpbWFnZSIsInNwbGl0IiwidHJ1c3RBc0h0bWwiLCJzaG93Q3JlYXRlRm9ybSIsImsiLCJiaW5kVG9Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicG9zdEZhY3RvcnkiLCJyZXNvdXJjZSIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcmVzb3VyY2VQcm92aWRlciIsImRlZmF1bHRzIiwic3RyaXBUcmFpbGluZ1NsYXNoZXMiLCIkc2NvcGUiLCJkaXJlY3RpdmUiLCJmaWx0ZXIiLCJ0ZXh0IiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBU0EsUUFBQUEsVUFD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QUEsT0FBQSxTQUFBdkMsR0FDQSxNQUFBLFVBQUF3QyxHQUNBLE1BQUF4QyxHQUFBd0IsWUFBQWdCLE9DWkFULFFBRUFDLE9BQUEsUUFFQVMsUUFBQSxrQkFDQSxZQUNBWiIsImZpbGUiOiJqcy9hbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG5cbiAgLm1vZHVsZSgncG9zdCcpXG5cbiAgLmRpcmVjdGl2ZSgnZXJyU3JjJywgW1xuICAgIGVyclNyY1xuICBdKTtcblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNjMxMDI5OFxuZnVuY3Rpb24gZXJyU3JjKCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2Vycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhdHRycy5zcmMgIT0gYXR0cnMuZXJyU3JjKSB7XG4gICAgICAgICAgYXR0cnMuJHNldCgnc3JjJywgYXR0cnMuZXJyU3JjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGF0dHJzLiRvYnNlcnZlKCduZ1NyYycsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUgJiYgYXR0cnMuZXJyU3JjKSB7XG4gICAgICAgICAgYXR0cnMuJHNldCgnc3JjJywgYXR0cnMuZXJyU3JjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJhbmd1bGFyXG5cbiAgLm1vZHVsZSgncG9zdCcpXG5cbiAgLmRpcmVjdGl2ZSgncG9zdEZvcm0nLCBbXG4gICAgcG9zdEZvcm1cbiAgXSk7XG5cblxuZnVuY3Rpb24gcG9zdEZvcm0oKSB7XG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcG9zdEN0cmwpIHtcbiAgICAgIHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9zdEN0cmwuY3JlYXRlUG9zdCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVxdWlyZTogJ15wb3N0RGlzcGxheScsXG4gICAgc2NvcGU6IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiAnL2pzL3Bvc3QvcG9zdEZvcm0uaHRtbCdcbiAgfTtcbn1cblxuIiwiYW5ndWxhclxuXG4gIC5tb2R1bGUoJ3Bvc3QnKVxuXG4gIC5kaXJlY3RpdmUoJ3Bvc3ROYXYnLCBbXG4gICAgcG9zdE5hdlxuICBdKTtcblxuXG5mdW5jdGlvbiBwb3N0TmF2KCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBvc3RDdHJsKSB7XG4gICAgICBzY29wZS5maXJzdFBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBvc3RDdHJsLmxvYWRQb3N0KCdmaXJzdCcpO1xuICAgICAgfTtcbiAgICAgIHNjb3BlLmxhdGVzdFBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBvc3RDdHJsLmxvYWRQb3N0KCdsYXRlc3QnKTtcbiAgICAgIH07XG4gICAgICBzY29wZS5wcmV2aW91c1Bvc3QgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgICBwb3N0Q3RybC5sb2FkUG9zdChjdXJyZW50LCAncHJldmlvdXMnKTtcbiAgICAgIH07XG4gICAgICBzY29wZS5uZXh0UG9zdCA9IGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICAgIHBvc3RDdHJsLmxvYWRQb3N0KGN1cnJlbnQsICduZXh0Jyk7XG4gICAgICB9O1xuICAgICAgc2NvcGUubmV3UG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9zdEN0cmwubmV3UG9zdCgpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIHJlcXVpcmU6ICdecG9zdERpc3BsYXknLFxuICAgIHNjb3BlOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZVVybDogJy9qcy9wb3N0L3Bvc3ROYXYuaHRtbCdcbiAgfTtcbn1cblxuIiwiYW5ndWxhclxuXG4gIC5tb2R1bGUoJ3Bvc3QnKVxuXG4gIC5kaXJlY3RpdmUoJ3Bvc3REaXNwbGF5JywgW1xuICAgICckc2NlJyxcbiAgICAncG9zdEFwaVNlcnZpY2UnLFxuICAgIHBvc3REaXNwbGF5XG4gIF0pXG5cbiAgLmZpbHRlcigndHJ1c3RlZCcsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHRleHQpO1xuICAgIH07XG4gIH1dKTtcblxuZnVuY3Rpb24gcG9zdERpc3BsYXkoJHNjZSwgcG9zdEFwaVNlcnZpY2UpIHtcblxuICB2YXIgY29udHJvbGxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICB2bS5sb2FkUG9zdCA9IGZ1bmN0aW9uKGlkLCBuYXYpIHtcbiAgICAgIC8vIE1hcmtkb3duXG4gICAgICB2YXIgY29udmVydGVyID0gbmV3IHNob3dkb3duLkNvbnZlcnRlcigpO1xuXG4gICAgICB2YXIgcGFyYW1zID0geyBwb3N0SWQ6IGlkIH07XG4gICAgICBpZiAobmF2KSB7XG4gICAgICAgIHBhcmFtcy5uYXYgPSBuYXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gcG9zdEFwaVNlcnZpY2UuZ2V0KHBhcmFtcywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJlc3BvbnNlLmJvZHkgPSBjb252ZXJ0ZXIubWFrZUh0bWwocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIHZtLnBvc3QgPSByZXNwb25zZTtcbiAgICAgICAgdm0uc3R5bGUuY3NzID0gcmVzcG9uc2Uuc3R5bGU7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEVycm9yOiBjb3VsZCBiZSBhIDQwNCwgbm8gcG9zdHMgZXhpc3RcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy92bS5kZWxldGVQb3N0ID0gZnVuY3Rpb24oaWQsIGkpIHtcbiAgICAgIC8vcmV0dXJuIHBvc3RBcGlTZXJ2aWNlLmRlbGV0ZSh7XG4gICAgICAgIC8vcG9zdElkOiBpZCxcbiAgICAgIC8vfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy92bS5wb3N0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAvL30sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIC8vLy8gVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAvL30pO1xuICAgIC8vfTtcblxuICAgIHZtLmNyZWF0ZVBvc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdm0ucG9zdC50YWdzKSB2bS5wb3N0LnRhZ3MgPSAnJztcbiAgICAgIHJldHVybiBwb3N0QXBpU2VydmljZS5zYXZlKHtcbiAgICAgICAgdGl0bGU6IHZtLnBvc3QudGl0bGUsXG4gICAgICAgIGJvZHk6IHZtLnBvc3QuYm9keSxcbiAgICAgICAgc3R5bGU6IHZtLnBvc3Quc3R5bGUsXG4gICAgICAgIGltYWdlOiB2bS5wb3N0LmltYWdlLFxuICAgICAgICB0YWdzOiB2bS5wb3N0LnRhZ3Muc3BsaXQoJyAnKSxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgY29udmVydGVyID0gbmV3IHNob3dkb3duLkNvbnZlcnRlcigpO1xuICAgICAgICByZXNwb25zZS5ib2R5ID0gY29udmVydGVyLm1ha2VIdG1sKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAkc2NlLnRydXN0QXNIdG1sKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICB2bS5zdHlsZS5jc3MgPSByZXNwb25zZS5zdHlsZTtcbiAgICAgICAgdm0ucG9zdCA9IHJlc3BvbnNlO1xuICAgICAgICB2bS5zaG93Q3JlYXRlRm9ybSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmICghdm0ucG9zdCkge1xuICAgICAgdm0ubG9hZFBvc3QoJ2xhdGVzdCcpO1xuICAgIH1cblxuICAgIHZtLm5ld1Bvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBrIGluIHZtLnBvc3QpIHtcbiAgICAgICAgdm0ucG9zdFtrXSA9IG51bGw7XG4gICAgICB9XG4gICAgICB2bS5zaG93Q3JlYXRlRm9ybSA9IHRydWU7XG4gICAgICB2bS5zdHlsZS5jc3MgPSAnJztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIHNjb3BlOiB7XG4gICAgICBzdHlsZTogJz0nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy9qcy9wb3N0L3Bvc3REaXNwbGF5Lmh0bWwnXG4gIH07XG59XG5cbiIsImFuZ3VsYXJcblxuICAubW9kdWxlKCdwb3N0JylcblxuICAuZmFjdG9yeSgncG9zdEFwaVNlcnZpY2UnLCBbXG4gICAgJyRyZXNvdXJjZScsIFxuICAgIHBvc3RGYWN0b3J5XG4gIF0pO1xuXG5mdW5jdGlvbiBwb3N0RmFjdG9yeShyZXNvdXJjZSkge1xuICByZXR1cm4gcmVzb3VyY2UoJy9wb3N0cy86cG9zdElkLzpuYXYnKTtcbn1cbiIsImFuZ3VsYXJcblxuICAubW9kdWxlKCdlZycsIFtcbiAgICAncG9zdCcsXG4gIF0pXG5cbiAgLmNvbmZpZyhbXG4gICAgJyRyZXNvdXJjZVByb3ZpZGVyJywgXG4gICAgZnVuY3Rpb24oJHJlc291cmNlUHJvdmlkZXIpIHtcbiAgICAgICRyZXNvdXJjZVByb3ZpZGVyLmRlZmF1bHRzLnN0cmlwVHJhaWxpbmdTbGFzaGVzID0gZmFsc2U7XG4gICAgfVxuICBdKVxuXG4gIC5jb250cm9sbGVyKCdFR0N0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAkc2NvcGUuc3R5bGUgPSB7XG4gICAgICBjc3M6ICd3b21iYXQnXG4gICAgfTtcbiAgfV0pO1xuIiwiYW5ndWxhclxuXG4gIC5tb2R1bGUoJ3Bvc3QnLCBbXG4gICAgJ25nUmVzb3VyY2UnXG4gIF0pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=